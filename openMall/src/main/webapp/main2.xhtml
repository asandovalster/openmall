<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile" contentType="text/html">

	<h:head>
		<link href="./css/style.css" rel="stylesheet" type="text/css" />
		
		
		<script type="text/javascript">
var startFrom = 60;//#{systemController.getSessionDuration()}; // Total session time out setting eg 10 sec, Real implementation assign values from jsf controller
var loopTill = 10;//#{systemController.getSessionTimeoutAlertDuration()}; //Count down degins from 6 sec and starts after 4 sec ie 10-6
var reduce = 1;
var handleDialog = null;
var redirectPage = "#{request.contextPath}/logon.xhtml";
var countDownDiv = "dialog-countdown";

function resetPageTimer() {
timeoutDialog.hide();
startPageTimer(startFrom, loopTill);
clearInterval(handleDialog);
}

function startDialogTimer(wCounter, timeOutPage) {
var e = null;
if(!e)
e = document.getElementById(countDownDiv);
e.innerHTML = wCounter;
handleDialog = setInterval(function() {
if(wCounter == 0) {
clearInterval(handleDialog);
window.location.href = timeOutPage;
}
else {
wCounter -= reduce;
e.innerHTML = wCounter;
}
}, reduce * 1000);
}

function startPageTimer(wFrom, wReach) {
var handle = null;
handle = setInterval(function() {
if(wFrom == wReach) {
clearInterval(handle);
timeoutDialog.show();
startDialogTimer(loopTill, redirectPage);
}
else {
wFrom -= reduce;
}
}, reduce * 1000);
}
startPageTimer(startFrom, loopTill);
</script>
		
		
	</h:head>

	<pm:page title="::: Bienvenido Hites Net Mobile :::">


		<pm:view id="navbar">


			<div id="psdg-header">
				<span class="psdg-bold">Hites Net Mobile</span><br /> Web
				Corporativa de Hites - Negocios y Gestion
			</div>
			<pm:navBar>
				<p:button value="Reportes de Negocio" icon="search" href="#" styleClass="ui-btn-active" />
				
				
			</pm:navBar>

			<pm:content>
				<p:dataList>
					<p:accordionPanel>
					
					
					  <p:tab title="Ventas On Line" collapsed="false">
							<h:form id="form">
							    
								<p:commandButton value="Reporte Detalle" action="#{userDBean.goURL('reporte1.xhtml')}"/>
							</h:form>
						</p:tab>
					  <p:tab title="Medidor de Avance" collapsed="false">
						
							<h:form id="id5">
								<p:commandButton value="Medidor" action="#{userDBean.goURL('reporte2.xhtml')}" />
							</h:form>
							
							
						</p:tab>
						<p:tab title="Cumplimientos x Local">
						
							<h:form id="id6">
								<p:commandButton value="Barra" action="#{userDBean.goURL('reporte3.xhtml')}" />
							</h:form>
						
						</p:tab> 
						
						<p:tab title="Ventas x Locales">
						
							<h:form id="id7">
								<p:commandButton value="Pie" action="#{userDBean.goURL('reporte4.xhtml')}" />
							</h:form>
						
						</p:tab> 
						<!-- <p:tab title="Reporte Google Pie">
						
							<h:form id="id8">
								<p:commandButton value="Pie" action="#{userDBean.goURL('reporte5.xhtml')}" />
							</h:form>
						
						</p:tab>  -->
						<!-- <p:tab title="Reporte Google Medidor">
						
							<h:form id="id9">
								<p:commandButton value="Google Medidor"  action="#{userDBean.goURL('reporte6.xhtml')}" />
							</h:form>
						
						</p:tab>  -->
					
						<p:tab title="Cantidad de Boletas vs Trafico">


							<h:form id="id1">
								<p:commandButton value="Ver Grafico" action="#{userDBean.submit}" />
							</h:form>

						</p:tab>
						<p:tab title="Efectividad de Ventas">
							<h:form id="id2">
								<p:commandButton value="Ver Grafico" action="#{userDBean.submit2}" />
							</h:form>

						</p:tab>
						<p:tab title="Productividad">
						<h:form id="id3">
								<p:commandButton value="Ver Grafico" action="#{userDBean.submit3}" />
							</h:form>

						</p:tab>
						
					
						
						
					</p:accordionPanel>

<h:form id="id0">
				   				<p:commandButton value="Cerrar Session" icon="check" action="#{userDBean.logout}"  global="false" />
						</h:form>
						

				</p:dataList>
			</pm:content>
		</pm:view>
		<pm:view id="viewTrafico">
			<div id="psdg-header">
				<span class="psdg-bold">Hites Net Mobile</span><br /> Web
				Corporativa de Hites - Negocios y Gestion
			</div>
			<pm:header title="Consulta Trafico" />
			
			<pm:content>
				
				<h:form>
					<p:commandButton value="Ver Grafico"
						action="#{userDBean.submit}" />
					<p:commandButton value="Volver"
						action="pm:navbar" />	
				</h:form>
		</pm:content>
		</pm:view>
		<pm:view id="viewEfectividad">
		<div id="psdg-header">
				<span class="psdg-bold">Hites Net Mobile</span><br /> Web
				Corporativa de Hites - Negocios y Gestion
			</div>
			<pm:header title="Consulta Efectividad" />
			<pm:content>
				
				<h:form>
					<p:commandButton value="Ver Grafico"
						action="#{userDBean.submit2}" />
					<p:commandButton value="Volver"
						action="pm:navbar" />	
				</h:form>
		</pm:content>
		</pm:view>
<pm:view id="viewProductividad">
		<div id="psdg-header">
				<span class="psdg-bold">Hites Net Mobile</span><br /> Web
				Corporativa de Hites - Negocios y Gestion
			</div>
			<pm:header title="Consulta Productividad" />
			<pm:content>
				
				<h:form>
					<p:commandButton value="Ver Grafico"
						action="#{userDBean.submit3}" />
					<p:commandButton value="Volver"
						action="pm:navbar" />	
				</h:form>
		</pm:content>
		</pm:view> 



		<h:form id="f2">
		
				<p:dialog header="Lo siento, Su session ha expirado!"
						widgetVar="timeoutDialog" showEffect="fade" hideEffect="fade"
						modal="true" width="600" height="100" closable="false"
						draggable="false" resizable="false" appendToBody="true">
						<br />
						<span class="ui-icon ui-icon-alert"
							style="float: left; margin: 0 7px 50px 0;"></span>
						<div>
							Sera derivado a la ventana de Login en <span
								id="dialog-countdown" style="font-weight: bold"></span>
							segundos.
						</div>
						<br />
						<p:commandButton value="Volver a Login"
							action="#{userDBean.logout}" />
					</p:dialog>
		
		</h:form>

	</pm:page>
</f:view>