<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile" contentType="text/html">

	<h:head>
		<link rel="shortcut icon"
			href="http://www.hites.cl/cms/sites/default/files/hites_favicon.png"
			type="image/x-icon" />
		<link href="./css/style.css" rel="stylesheet" type="text/css" />

		<script type="text/javascript"
			src="./openmall/faces/javax.faces.resource/common.js?ln=js">
		</script>




		<script type="text/javascript">
		
		 function launch(){
			 document.form.submit();
		 }
		
		
		
		</script>

	</h:head>

	<pm:page title="HiNet Mobile - mobile.hites.cl">
		<pm:view id="viewChapter1">
			<div id="psdg-header">
				<p:graphicImage value="images/logo_hites_mobile.png"  width="250" height="100"/>  
				
				
			</div>
			<div id="psdg-header11"
				style="align: right; background-color: #FFD700;">
				<span class="psdg-bold11">#{userBean.datos.nombres}
					#{userBean.datos.apellido}</span> / #{userBean.datos.cargo}
			</div>
			<pm:navBar>

				<p:button value="Volver" icon="back" href="reporte1_4.xhtml"
					styleClass="ui-btn-active" />


			</pm:navBar>


			<h:form id="form">


				<p:growl id="growl" showDetail="true" sticky="true" />

				<p:panel header="Reporte Ranking Supervisores - Boletas" collapsed="false">





					<p:dataTable id="boletaTable" resizableColumns="false" var="bol"
						value="#{tableDsctoSuperBean.salesSelected.boletas}"
						style="margin:0px;" paginator="false" rows="14">

						<p:columnGroup type="header" style="margin:0px;width:100%">
							<p:row>
							    <p:column colspan="1" headerText="Exp." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Fecha" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Hora"	style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Caja"	style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Boleta" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Area" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Depto." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Vta. S/Dscto." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Vta.Neta." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Descto." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Avance" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
							</p:row>
							

						</p:columnGroup>

						<f:facet name="header" >  
                   				 #{tableDsctoSuperBean.salesSelected.tienda}  #{tableDsctoSuperBean.salesSelected.vendedor}  
            			</f:facet>  
						
						
						 <p:column style="width:30px">  
					            <p:rowToggler id="itemsT"/>  
					        </p:column>  

						<p:column style="text-align:center;width:90px;"
							sortBy="#{bol.fecha}">
							<f:facet name="header">  
                    			#{bol.fecha}  
           					 </f:facet>
							<h:outputText value="#{bol.fecha}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;">
								
							</h:outputText>
						</p:column>

						<p:column style="text-align:center;width:90px;"
							sortBy="#{bol.hora}">
							<f:facet name="header">  
                    			#{bol.hora}  
           					 </f:facet>
							<h:outputText value="#{bol.hora}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;}">
								
							</h:outputText>
						</p:column>

						<p:column style="text-align:center;width:90px;"
							sortBy="#{bol.caja}">
							<f:facet name="header">  
                    			#{bol.caja}  
           					 </f:facet>
							<h:outputText value="#{bol.caja}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;}">
								
							</h:outputText>
						</p:column>

						<p:column sortBy="#{bol.numBoleta}" filterBy="#{bol.numBoleta}">
							<f:facet name="header">  
                    			#{bol.numBoleta}  
           				   </f:facet>
							<h:outputText value="#{bol.numBoleta}"
								style="text-align:center;font: 12px Arial, Helvetica, sans-serif;" />
						</p:column>


						<p:column sortBy="#{bol.area}" filterBy="#{bol.area}">
							<f:facet name="header">  
                    			#{bol.area}  
           				   </f:facet>
							<h:outputText value="#{bol.area}"
								style="text-align:center;font: 12px Arial, Helvetica, sans-serif;" />
						</p:column>
						
						<p:column sortBy="#{bol.departamento}" filterBy="#{bol.departamento}">
							<f:facet name="header">  
                    			#{bol.departamento}  
           				   </f:facet>
							<h:outputText value="#{bol.departamento}"
								style="text-align:center;font: 12px Arial, Helvetica, sans-serif;" />
						</p:column>
							<p:column style="text-align:center;width:90px;"
							sortBy="#{bol.montoBase}">
							<f:facet name="header">  
                    				#{bol.montoBase}  
           					 </f:facet>
							<h:outputText value="#{bol.montoBase}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{bol.montoBase le 0 ? 'color:#ff0000;' : null}">
								<f:convertNumber type="currency" pattern="$ ###,###,##0"
									currencySymbol="$" />
							</h:outputText>
						</p:column>
						
						<p:column style="text-align:center;width:90px;"
							sortBy="#{bol.montoNeto}">
							<f:facet name="header">  
                    				#{bol.montoNeto}  
           					 </f:facet>
							<h:outputText value="#{bol.montoNeto}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{bol.montoNeto le 0 ? 'color:#ff0000;' : null}">
								<f:convertNumber type="currency" pattern="$ ###,###,##0"
									currencySymbol="$" />
							</h:outputText>
						</p:column>
						
						
						<p:column style="text-align:center;width:90px;"
							sortBy="#{bol.dscto}">
							<f:facet name="header">  
                    				#{bol.dscto}  
           					 </f:facet>
							<h:outputText value="#{bol.dscto}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{bol.dscto le 0 ? 'color:#ff0000;' : null}">
								<f:convertNumber type="currency" pattern="$ ###,###,##0"
									currencySymbol="$" />
							</h:outputText>
						</p:column>

						<p:column style="text-align:center" sortBy="#{bol.por_dscto}">
							<f:facet name="header">  
                   				 #{bol.por_dscto}  
           					</f:facet>
							<h:outputText value="#{bol.por_dscto}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;">
								<f:convertNumber type="percent" maxIntegerDigits="4"
									maxFractionDigits="1" />
							</h:outputText>
						</p:column>

						<!-- Row de Expansion -->
							<p:rowExpansion id="idlocalTable">  
						          
						  					<p:panel header=" " collapsed="true">	
						  						  						 
						  					<p:dataTable resizableColumns="false"  id="itemTable" var="item" value="#{bol.items}" 
						  					style="margin:0px;width:100%;height:100%;" 
						  					pagination="false">
						
						
															<f:facet name="header" >  
                   												   Boleta: #{bol.numBoleta}    
            												</f:facet>  
            												
            												<f:facet name="header" >  
                   												   Caja: #{bol.caja}    
            												</f:facet> 
            												
            												<f:facet name="header" >  
                   												    #{bol.trx}    
            												</f:facet>  
            												
            												<f:facet name="header" >  
                   												    #{bol.fin}     
            												</f:facet> 
            												
															<f:facet name="header" >  
                   												   #{item.trx}    
            												</f:facet> 
															<f:facet name="header" >  
                   												   #{item.fin}    
            												</f:facet> 
						   								  <p:column style="width:90px;text-align:center;"  sortBy="#{item.seccion}">
													        	<f:facet name="header">  
													                  Seccion
													            </f:facet>  
													                <h:outputText  value="#{item.seccion}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													
													      <p:column style="width:90px;text-align:center;"  sortBy="#{item.familia}">
													        	<f:facet name="header">  
													                  Familia
													            </f:facet>  
													                <h:outputText  value="#{item.familia}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													
													
														  <p:column style="width:90px;text-align:center;"  sortBy="#{item.articulo}">
													        	<f:facet name="header">  
													                  Articulo
													            </f:facet>  
													                <h:outputText  value="#{item.articulo}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													        <p:column style="width:90px;text-align:center;"  sortBy="#{item.glosa_prdto}">
													        	<f:facet name="header">  
													                  Glosa
													            </f:facet>  
													                <h:outputText  value="#{item.glosa_prdto}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													        
													          <p:column style="width:90px;text-align:center;"  sortBy="#{item.precio}">
													        	<f:facet name="header">  
													                  Precio
													            </f:facet>  
																<h:outputText value="#{item.precio}"
																	style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{item.precio le 0 ? 'color:#ff0000;' : null}">
																	<f:convertNumber type="currency" pattern="$ ###,###,##0"
																		currencySymbol="$" />
																</h:outputText>
															</p:column>
													        
													        
													         <p:column style="width:90px;text-align:center;"  sortBy="#{item.cantidad}">
													        	<f:facet name="header">  
													                  Cantidad
													            </f:facet>  
													                <h:outputText  value="#{item.cantidad}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
															 
													<!-- 
														        <p:columnGroup type="footer" style="text-align:right;margin:0px;width:100%;"> 
																	<p:row>
																		<p:column footerText="Total:" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																		<p:column footerText="#{ventah.smetas}" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																		<p:column footerText="#{ventah.sventas}" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																		<p:column footerText="#{ventah.savance}" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																	</p:row>             
														        </p:columnGroup> -->
						                  				 
						       							   
						   					 </p:dataTable>
						  
						  	   
						       						
											 
						  
						  				
									 		</p:panel>
									 		
						  
						        </p:rowExpansion>  




					</p:dataTable>

				</p:panel>

			</h:form>
		</pm:view>


	</pm:page>
</f:view>