<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile" contentType="text/html">

	<h:head>
		<link rel="shortcut icon"
			href="http://www.hites.cl/cms/sites/default/files/hites_favicon.png"
			type="image/x-icon" />
		<link href="./css/style.css" rel="stylesheet" type="text/css" />

		<script type="text/javascript"
			src="./openmall/faces/javax.faces.resource/common.js?ln=js">
		</script>




		<script type="text/javascript">
		
		 function launch(){
			 document.form.submit();
		 }
		
		
		
		</script>

	</h:head>

	<pm:page title="HiNet Mobile - mobile.hites.cl">
		<pm:view id="viewChapter1">
			<div id="psdg-header">
				<p:graphicImage value="images/logo_hites_mobile.png"  width="250" height="100"/>  
				
				
			</div>
			<div id="psdg-header11"
				style="align: right; background-color: #FFD700;">
				<span class="psdg-bold11">#{userBean.datos.nombres}
					#{userBean.datos.apellido}</span> / #{userBean.datos.cargo}
			</div>
			<pm:navBar>

				<p:button value="Volver" icon="back" href="reporte1_5.xhtml"
					styleClass="ui-btn-active" />


			</pm:navBar>


			<h:form id="form">


				<p:growl id="growl" showDetail="true" sticky="true" />

				<p:panel header="Reporte Garant&iacute;a Extendida - Vendedores" collapsed="false">





					<p:dataTable id="vendedorTable" resizableColumns="false" var="vend"
						value="#{tableDsctoGarantiaDeptoBean.localSelected.vendedores}"
						style="margin:0px;" paginator="false" rows="14">

						<p:columnGroup type="header" style="margin:0px;width:100%">
							<p:row>
							    <p:column colspan="1" headerText="Exp." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Fecha" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Hora" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Vendedor" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<!-- <p:column colspan="1" headerText="Hora"	style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Caja"	style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Boleta" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Area" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Depto." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" /> -->
								<p:column colspan="1" headerText="Vta. S/Dscto." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Vta.Neta." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Descto." style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
								<p:column colspan="1" headerText="Boletas %" style="margin:0px;font: 12px bold Arial, Helvetica, sans-serif;" />
							</p:row>
							

						</p:columnGroup>

						<f:facet name="header" >  
                   				Tienda: #{tableDsctoGarantiaDeptoBean.localSelected.tienda} Depto: #{tableDsctoGarantiaDeptoBean.localSelected.departamento}  
            			</f:facet>  
						
						
						 <p:column style="width:30px">  
					            <p:rowToggler id="itemsT"/>  
					        </p:column>  

						<p:column style="text-align:center;width:90px;"
							>
							<f:facet name="header">  
                    			#{vend.fecha}  
           					 </f:facet>
							<h:outputText value="#{vend.fecha}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;">
								
							</h:outputText>
						</p:column>

						<p:column style="text-align:center;width:90px;"
							>
							<f:facet name="header">  
                    			#{vend.hora}  
           					 </f:facet>
							<h:outputText value="#{vend.hora}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;}">
								
							</h:outputText>
						</p:column>

						<p:column style="text-align:center;width:190px;"
							>
							<f:facet name="header">  
                    			#{vend.vendedor}  
           					 </f:facet>
							<h:outputText value="#{vend.vendedor}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;}">
								
							</h:outputText>
						</p:column>

						
						<p:column style="text-align:center;width:90px;"
							>
							<f:facet name="header">  
                    				#{vend.baseTotal}  
           					 </f:facet>
							<h:outputText value="#{vend.baseTotal}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{vend.baseTotal le 0 ? 'color:#ff0000;' : null}">
								<f:convertNumber type="currency" pattern="$ ###,###,##0"
									currencySymbol="$" />
							</h:outputText>
						</p:column>
						
						<p:column style="text-align:center;width:90px;"
							>
							<f:facet name="header">  
                    				#{vend.netoTotal}  
           					 </f:facet>
							<h:outputText value="#{vend.netoTotal}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{vend.netoTotal le 0 ? 'color:#ff0000;' : null}">
								<f:convertNumber type="currency" pattern="$ ###,###,##0"
									currencySymbol="$" />
							</h:outputText>
						</p:column>
						
						
						<p:column style="text-align:center;width:90px;"
							>
							<f:facet name="header">  
                    				#{vend.dsctoTotal}  
           					 </f:facet>
							<h:outputText value="#{vend.dsctoTotal}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{vend.dsctoTotal le 0 ? 'color:#ff0000;' : null}">
								<f:convertNumber type="currency" pattern="$ ###,###,##0"
									currencySymbol="$" />
							</h:outputText>
						</p:column>

						<p:column style="text-align:center;width:90px;" >
							<f:facet name="header">  
                   				 #{vend.cantidad_boletas}  
           					</f:facet>
							<h:outputText value="#{vend.cantidad_boletas}"
								style="text-align:right;font: 12px Arial, Helvetica, sans-serif;">
								<f:convertNumber type="percent" maxIntegerDigits="4"
									maxFractionDigits="1" />
							</h:outputText>
						</p:column>

						<!-- Row de Expansion -->
							<p:rowExpansion id="idBoletaTable">  
						          
						  					<p:panel header=" " collapsed="true">	
						  						  						 
						  					<p:dataTable resizableColumns="false"  id="boletaTable" var="item" value="#{vend.boletas}" 
						  					style="margin:0px;width:100%;height:100%;" 
						  					pagination="false">
						
						
															<f:facet name="header" >  
                   												   Vendedor: #{vend.vendedor}    
            												</f:facet>  
            												
            												<p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  Articulo
													            </f:facet>  
													                <h:outputText  value="#{item.articulo}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													        <p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  Glosa
													            </f:facet>  
													                <h:outputText  value="#{item.glosa_Articulo}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													      
													      <p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  Caja
													            </f:facet>  
													                <h:outputText  value="#{item.caja}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													        
													         <p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  Boleta
													            </f:facet>  
													                <h:outputText  value="#{item.id_boleta}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													        
													        <p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  Trx
													            </f:facet>  
													                <h:outputText  value="#{item.transaccion}" style="text-align:right;font: 12px Arial, Helvetica, sans-serif;"/>
													        	
													        </p:column>
													        
													        
													          <p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  Precio VTA
													            </f:facet>  
																<h:outputText value="#{item.baseTotal}"
																	style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{item.baseTotal le 0 ? 'color:#ff0000;' : null}">
																	<f:convertNumber type="currency" pattern="$ ###,###,##0"
																		currencySymbol="$" />
																</h:outputText>
															</p:column>
													        
													        
													            <p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  VTA Neta
													            </f:facet>  
																<h:outputText value="#{item.netoTotal}"
																	style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{item.netoTotal le 0 ? 'color:#ff0000;' : null}">
																	<f:convertNumber type="currency" pattern="$ ###,###,##0"
																		currencySymbol="$" />
																</h:outputText>
																</p:column>
																
																
													            <p:column style="width:90px;text-align:center;"  >
													        	<f:facet name="header">  
													                  Dscto.
													            </f:facet>  
																<h:outputText value="#{item.dsctoTotal}"
																	style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{item.dsctoTotal le 0 ? 'color:#ff0000;' : null}">
																	<f:convertNumber type="currency" pattern="$ ###,###,##0"
																		currencySymbol="$" />
																</h:outputText>
																</p:column>
													        
													         <p:column style="text-align:center;margin:0px;width:50px" >
								        						<f:facet name="header">  
								                    				( Boleta % )  
								            					</f:facet>  
								          						<h:outputText value="#{item.dsctoTotal}" 
								          						style="text-align:right;font: 12px Arial, Helvetica, sans-serif;#{item.dsctoTotal le 0 ? 'color:#ff0000;' : null}">
								          						
								        							<f:convertNumber type="percent"  maxIntegerDigits="4" maxFractionDigits="2"/>
								            					</h:outputText>
								        					</p:column>  
															 
													<!-- 
														        <p:columnGroup type="footer" style="text-align:right;margin:0px;width:100%;"> 
																	<p:row>
																		<p:column footerText="Total:" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																		<p:column footerText="#{ventah.smetas}" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																		<p:column footerText="#{ventah.sventas}" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																		<p:column footerText="#{ventah.savance}" style="text-align:center;font: bold 12px Arial, Helvetica, sans-serif;padding: 0px"/>
																	</p:row>             
														        </p:columnGroup> -->
						                  				 
						       							   
						   					 </p:dataTable>
						  
						  	   
						       						
											 
						  
						  				
									 		</p:panel>
									 		
						  
						        </p:rowExpansion>  




					</p:dataTable>

				</p:panel>

			</h:form>
		</pm:view>


	</pm:page>
</f:view>